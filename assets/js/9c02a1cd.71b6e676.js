"use strict";(self.webpackChunkrealsee_developer_github_com=self.webpackChunkrealsee_developer_github_com||[]).push([[9e3],{3905:function(e,r,n){n.d(r,{Zo:function(){return d},kt:function(){return c}});var t=n(67294);function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){i(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function a(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=t.createContext({}),p=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},d=function(e){var r=p(e.components);return t.createElement(l.Provider,{value:r},e.children)},m={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},u=t.forwardRef((function(e,r){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),u=p(n),c=i,g=u["".concat(l,".").concat(c)]||u[c]||m[c]||o;return n?t.createElement(g,s(s({ref:r},d),{},{components:n})):t.createElement(g,s({ref:r},d))}));function c(e,r){var n=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var o=n.length,s=new Array(o);s[0]=u;var a={};for(var l in r)hasOwnProperty.call(r,l)&&(a[l]=r[l]);a.originalType=e,a.mdxType="string"==typeof e?e:i,s[1]=a;for(var p=2;p<o;p++)s[p]=n[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},15598:function(e,r,n){n.r(r),n.d(r,{assets:function(){return d},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return a},metadata:function(){return p},toc:function(){return m}});var t=n(87462),i=n(63366),o=(n(67294),n(3905)),s=["components"],a={title:'\u6d4f\u89c8\u5668 "\u6865" \u5b9e\u73b0'},l=void 0,p={unversionedId:"webview/jsbridge/browser-jsbridge",id:"webview/jsbridge/browser-jsbridge",title:'\u6d4f\u89c8\u5668 "\u6865" \u5b9e\u73b0',description:'\u7531\u4e8e\u6d4f\u89c8\u5668\u672c\u8eab\u5c31\u662f WebView \u7684\u5b8c\u6574\u7248\uff0c\u5e76\u4e0d\u5b58\u5728\u6240\u8c13\u7684 jsBridge\u3002\u4f46\u4e3a\u4e86\u4fdd\u969c\u4e1a\u52a1\u6e90\u7801\u903b\u8f91\u7684\u7edf\u4e00\u6027\uff0c\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\u4e5f\u6a21\u62df\u51fa\u4e00\u4e2a jsBridge \u6982\u5ff5\u3002\u672c\u7ae0\u5c06\u4e3a\u60a8\u8be6\u7ec6\u8bb2\u89e3\u5982\u4f55\u57fa\u4e8e @realsee/jsbridge-x \u5728\u60a8\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u5b9e\u73b0\u6d4f\u89c8\u5668 "\u6865" \u3002',source:"@site/docs/webview/jsbridge/browser-jsbridge.md",sourceDirName:"webview/jsbridge",slug:"/webview/jsbridge/browser-jsbridge",permalink:"/docs/webview/jsbridge/browser-jsbridge",tags:[],version:"current",lastUpdatedBy:"\u5c0f\u9640\u87ba",lastUpdatedAt:1647598986,formattedLastUpdatedAt:"2022/3/18",frontMatter:{title:'\u6d4f\u89c8\u5668 "\u6865" \u5b9e\u73b0'},sidebar:"\u5bb9\u5668\u96c6\u6210",previous:{title:"React \u652f\u6301",permalink:"/docs/webview/jsbridge/react-support"}},d={},m=[{value:"\u5b8c\u6574\u793a\u4f8b",id:"\u5b8c\u6574\u793a\u4f8b",level:2}],u={toc:m};function c(e){var r=e.components,n=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,t.Z)({},u,n,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"\u7531\u4e8e\u6d4f\u89c8\u5668\u672c\u8eab\u5c31\u662f WebView \u7684\u5b8c\u6574\u7248\uff0c\u5e76\u4e0d\u5b58\u5728\u6240\u8c13\u7684 jsBridge\u3002\u4f46\u4e3a\u4e86\u4fdd\u969c\u4e1a\u52a1\u6e90\u7801\u903b\u8f91\u7684\u7edf\u4e00\u6027\uff0c\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\u4e5f\u6a21\u62df\u51fa\u4e00\u4e2a jsBridge \u6982\u5ff5\u3002",(0,o.kt)("strong",{parentName:"p"},"\u672c\u7ae0\u5c06\u4e3a\u60a8\u8be6\u7ec6\u8bb2\u89e3\u5982\u4f55\u57fa\u4e8e ",(0,o.kt)("inlineCode",{parentName:"strong"},"@realsee/jsbridge-x"),' \u5728\u60a8\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u5b9e\u73b0\u6d4f\u89c8\u5668 "\u6865" \u3002')))),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"@realsee/jsbridge-x")," \u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"jsBridge")," \u90fd\u662f\u57fa\u4e8e ",(0,o.kt)("inlineCode",{parentName:"p"},"JSBridgeProtocol")," \u4e0e\u8ba2\u9605\u53d1\u5e03\u8005\u6a21\u5f0f\u5b9e\u73b0\u7684\uff0c\u9996\u5148\uff0c\u60a8\u9700\u8981\u5f15\u5165 Subscribe \u7c7b\u4ee5\u53ca JSBridgeProtocol \u63a5\u53e3\u3002\u57fa\u4e8e Subscribe \u548c JSBridgeProtocol \u521b\u5efa\u540d\u4e3a JSBridgeBrowser \u7684\u7c7b\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Subscribe } from '@realsee/jsbridge-x/lib/shared-utils/Subscribe'\nimport { JSBridgeProtocol } from '@realsee/jsbridge-x/lib/typings/JSBridgeProtocol'\nimport { WebViewEventMap } from '@realsee/jsbridge-x/lib/typings/WebViewEventMap'\n\nexport class BrowserJsbridge extends Subscribe<WebViewEventMap> implements JSBridgeProtocol {\n    // \u5728\u6b64\u64b0\u5199\u6240\u9700\u65b9\u6cd5\n}\n")),(0,o.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u60a8\u53ef\u4ee5\u6309\u7167 ",(0,o.kt)("inlineCode",{parentName:"p"},"JSBridgeProtocol")," \u63a5\u53e3\u58f0\u660e\uff0c\u5b9e\u73b0\u76f8\u5e94\u65b9\u6cd5\u3002"),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"\u5982\u679c\u60a8\u5df2\u7ecf\u5b89\u88c5 ",(0,o.kt)("inlineCode",{parentName:"p"},"@realsee/jsbridge-x")," ,\u5219\u53ef\u4ee5\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"@realsee/jsbridge-x/lib/typings/JSBridgeProtocol.d.ts")," \u58f0\u660e\u6587\u4ef6\u4e2d\u770b\u5230\u5b8c\u6574\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"JSBridgeProtocol")," \u63a5\u53e3\u58f0\u660e\u3002\n\u4e5f\u53ef\u4ee5\u76f4\u63a5\u70b9 ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://unpkg.com/@realsee/jsbridge-x/docs/interfaces/jsBridge.JSBridgeProtocol.html"},"Interface JSBridgeProtocol \u6587\u6863\u8bf4\u660e"))," \u67e5\u770b\u3002\n\u67e5\u770b\u6587\u6863\u94fe\u63a5\u65f6\uff0c\u53ef\u5728\u6309\u9700\u4fee\u6539\u7248\u672c\u53f7\uff0c\u67e5\u770b\u6240\u9700\u7248\u672c\u7684\u6587\u6863\u3002 ",(0,o.kt)("a",{parentName:"p",href:"https://unpkg.com/@realsee/jsbridge-x**%7B%E7%89%88%E6%9C%AC%E5%8F%B7%7D**/docs/interfaces/jsBridge.JSBridgeProtocol.html"},"https://unpkg.com/@realsee/jsbridge-x**{\u7248\u672c\u53f7}**/docs/interfaces/jsBridge.JSBridgeProtocol.html")))),(0,o.kt)("h2",{id:"\u5b8c\u6574\u793a\u4f8b"},"\u5b8c\u6574\u793a\u4f8b"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="JSBridgeBrowser.ts"',title:'"JSBridgeBrowser.ts"'},"import { Subscribe } from '@realsee/jsbridge-x/lib/shared-utils/Subscribe'\nimport { DeviceInfo } from '@realsee/jsbridge-x/lib/typings/DeviceInfo'\nimport { OpenWebViewEnum } from '@realsee/jsbridge-x/lib/typings/OpenWebViewEnum'\nimport { ShareConfig } from '@realsee/jsbridge-x/lib/typings/ShareConfig'\nimport { UserInfo } from '@realsee/jsbridge-x/lib/typings/UserInfo'\nimport { WebViewEventMap } from '@realsee/jsbridge-x/lib/typings/WebViewEventMap'\nimport { WebViewState, OrientationEnum } from '@realsee/jsbridge-x/lib/typings/WebViewState'\nimport { WebViewTypeEnum } from '@realsee/jsbridge-x/lib/typings/WebViewTypeEnum'\nimport { JSBridgeProtocol, JSBridgeReturnType } from '@realsee/jsbridge-x/lib/typings/JSBridgeProtocol'\n\nexport class JSBridgeBrowser extends Subscribe<WebViewEventMap> implements JSBridgeProtocol {\n    actionShare(shareConfig: Partial<ShareConfig>): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    callAndBackfeed<T>(schemeUrl: string): Promise<JSBridgeReturnType<false | T>> {\n        return Promise.resolve([false, null]);\n    }\n\n    callAndListen<T>(schemeUrl: string, callback: (data: T) => void): Promise<JSBridgeReturnType<false | (() => void)>> {\n        return Promise.resolve([false, null]);\n    }\n\n    closeLoading(): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    closeWebView(): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    createCacheProxyUrl(urls: string | string[]): string[] {\n        return [];\n    }\n\n    detectMicro(): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    getBangsHeight(): Promise<JSBridgeReturnType<number | false>> {\n        return Promise.resolve([false, null]);\n    }\n\n    getDeviceInfo(): Promise<JSBridgeReturnType<DeviceInfo | false>> {\n        return Promise.resolve([false, null]);\n    }\n\n    getUserInfo(): Promise<JSBridgeReturnType<UserInfo | false>> {\n        return Promise.resolve([false, null]);\n    }\n\n    getWebViewState(): Promise<JSBridgeReturnType<WebViewState | false>> {\n        return Promise.resolve([false, null]);\n    }\n\n    keepScreenLight(enable: boolean): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    loadProgress(progress: number): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    login(): Promise<JSBridgeReturnType<UserInfo | false>> {\n        return Promise.resolve([false, null]);\n    }\n\n    logout(): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    minimize(): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    openWebView(url: string, way: OpenWebViewEnum): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    preload(urls: string[]): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    ready(): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    saveImage2Album(base64: string): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    setLeftTopBackButton(enable: boolean): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    setOrientation(orientation: OrientationEnum): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    shock(duration: number | undefined): Promise<JSBridgeReturnType<boolean>> {\n        return Promise.resolve([false, null]);\n    }\n\n    webViewType: WebViewTypeEnum = WebViewTypeEnum.Browser\n}\n\n")))}c.isMDXComponent=!0}}]);
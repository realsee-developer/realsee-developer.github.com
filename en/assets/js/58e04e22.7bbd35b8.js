"use strict";(self.webpackChunkrealsee_developer_github_com=self.webpackChunkrealsee_developer_github_com||[]).push([[5906],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>b});var o=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=o.createContext({}),p=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=p(e.components);return o.createElement(l.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(t),u=a,b=d["".concat(l,".").concat(u)]||d[u]||m[u]||i;return t?o.createElement(b,r(r({ref:n},c),{},{components:t})):o.createElement(b,r({ref:n},c))}));function b(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,r=new Array(i);r[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:a,r[1]=s;for(var p=2;p<i;p++)r[p]=t[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},85162:(e,n,t)=>{t.d(n,{Z:()=>r});var o=t(67294),a=t(86010);const i={tabItem:"tabItem_Ymn6"};function r(e){let{children:n,hidden:t,className:r}=e;return o.createElement("div",{role:"tabpanel",className:(0,a.Z)(i.tabItem,r),hidden:t},n)}},65488:(e,n,t)=>{t.d(n,{Z:()=>m});var o=t(87462),a=t(67294),i=t(86010),r=t(72389),s=t(67392),l=t(7094),p=t(12466);const c={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function d(e){const{lazy:n,block:t,defaultValue:r,values:d,groupId:m,className:u}=e,b=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=d??b.map((e=>{let{props:{value:n,label:t,attributes:o}}=e;return{value:n,label:t,attributes:o}})),g=(0,s.l)(f,((e,n)=>e.value===n.value));if(g.length>0)throw new Error(`Docusaurus error: Duplicate values "${g.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const h=null===r?r:r??b.find((e=>e.props.default))?.props.value??b[0].props.value;if(null!==h&&!f.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:w}=(0,l.U)(),[v,_]=(0,a.useState)(h),N=[],{blockElementScrollPositionUntilNextRender:y}=(0,p.o5)();if(null!=m){const e=k[m];null!=e&&e!==v&&f.some((n=>n.value===e))&&_(e)}const x=e=>{const n=e.currentTarget,t=N.indexOf(n),o=f[t].value;o!==v&&(y(n),_(o),null!=m&&w(m,String(o)))},j=e=>{let n=null;switch(e.key){case"Enter":x(e);break;case"ArrowRight":{const t=N.indexOf(e.currentTarget)+1;n=N[t]??N[0];break}case"ArrowLeft":{const t=N.indexOf(e.currentTarget)-1;n=N[t]??N[N.length-1];break}}n?.focus()};return a.createElement("div",{className:(0,i.Z)("tabs-container",c.tabList)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":t},u)},f.map((e=>{let{value:n,label:t,attributes:r}=e;return a.createElement("li",(0,o.Z)({role:"tab",tabIndex:v===n?0:-1,"aria-selected":v===n,key:n,ref:e=>N.push(e),onKeyDown:j,onClick:x},r,{className:(0,i.Z)("tabs__item",c.tabItem,r?.className,{"tabs__item--active":v===n})}),t??n)}))),n?(0,a.cloneElement)(b.filter((e=>e.props.value===v))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},b.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==v})))))}function m(e){const n=(0,r.Z)();return a.createElement(d,(0,o.Z)({key:String(n)},e))}},12848:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>b,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var o=t(87462),a=(t(67294),t(3905)),i=t(65488),r=t(85162);const s={title:"Show 3D space"},l=void 0,p={unversionedId:"front/3d-space/handbook/react-hoc/displaying-work",id:"front/3d-space/handbook/react-hoc/displaying-work",title:"Show 3D space",description:"Previous chapter recalls: Beginning",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/front/3d-space/handbook/react-hoc/1.displaying-work.md",sourceDirName:"front/3d-space/handbook/react-hoc",slug:"/front/3d-space/handbook/react-hoc/displaying-work",permalink:"/en/docs/front/3d-space/handbook/react-hoc/displaying-work",draft:!1,tags:[],version:"current",lastUpdatedBy:"sansi.lcj",lastUpdatedAt:1669717185,formattedLastUpdatedAt:"Nov 29, 2022",sidebarPosition:1,frontMatter:{title:"Show 3D space"},sidebar:"\u4e09\u7ef4\u7a7a\u95f4",previous:{title:"Beginning",permalink:"/en/docs/front/3d-space/handbook/react-hoc/get-started"},next:{title:"Change View",permalink:"/en/docs/front/3d-space/handbook/react-hoc/knowing-state"}},c={},d=[{value:"Preparatory work",id:"preparatory-work",level:2},{value:"What is Work",id:"what-is-work",level:2},{value:"<strong>Work Introduction</strong>",id:"work-introduction",level:3},{value:"Use restrictions on work",id:"use-restrictions-on-work",level:3},{value:"<strong>work.json</strong>data samples and data description",id:"workjsondata-samples-and-data-description",level:3},{value:"Work Object",id:"work-object",level:3},{value:"Learn about FiveProvider and FiveCanvas",id:"learn-about-fiveprovider-and-fivecanvas",level:2},{value:"Origins of FiveProvider and FiveCanvas",id:"origins-of-fiveprovider-and-fivecanvas",level:3},{value:"Add Mode Control Button",id:"add-mode-control-button",level:3},{value:"Install ui components",id:"install-ui-components",level:4},{value:"Learn about <strong>withFive</strong>",id:"learn-about-withfive",level:4},{value:"Use Mode Control Button Component",id:"use-mode-control-button-component",level:3},{value:"The next section will be completed by you",id:"the-next-section-will-be-completed-by-you",level:2}],m={toc:d},u="wrapper";function b(e){let{components:n,...t}=e;return(0,a.kt)(u,(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Previous chapter recalls: Beginning")," ",(0,a.kt)("br",null)),(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},"You learned how to initialize the environment.",(0,a.kt)("br",null)),(0,a.kt)("li",{parentName:"ul"},"And you wrote a code, though you don't know what it does, but you successfully finished loading and displaying a VR."))),(0,a.kt)("admonition",{title:"This chapter can learn to",type:"tip"},(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"Learn what is Work"),(0,a.kt)("li",{parentName:"ul"},"Learn how the ",(0,a.kt)("inlineCode",{parentName:"li"},"FiveProvider")," / ",(0,a.kt)("inlineCode",{parentName:"li"},"FiveCanvas")," component works"))),(0,a.kt)("h2",{id:"preparatory-work"},"Preparatory work"),(0,a.kt)("p",null,"Like the previous section, we create a new directory (",(0,a.kt)("inlineCode",{parentName:"p"},"src/1.displaying-work"),"and corresponding ",(0,a.kt)("strong",{parentName:"p"},"html")," and ",(0,a.kt)("strong",{parentName:"p"},"jsx")," or ",(0,a.kt)("strong",{parentName:"p"},"tsx")," files."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"jsx")," or ",(0,a.kt)("strong",{parentName:"p"},"tsx")," files can first copy the previous chapter."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="src/1.displaying-work/index.html"',title:'"src/1.displaying-work/index.html"'},'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <link rel="icon" href="data:;base64,iVBORw0KGgo=">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Displays space | Display a work</title>\n  <style>\n    * { margin: 0; padding: 0; }\n    html, body #app { width: 100%; height: 100%; overflow: hidden; }\n  </style>\n</head>\n<body>\n  <div id="app"></div>\n  <script type="module" src="./index"><\/script>\n</body>\n</html>\n')),(0,a.kt)(i.Z,{mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"JavaScript",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/withFetchWork.jsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React, { Component } from "react";\nimport { parseWork } from "@realsee/five";\n\n/**\n * React HOC for work\n * @param url work. Son\'s address\n */\nfunction withFetchWork(url) {\n  return function(Compnent) {\n    return class extends Component {\n      state = { work: null };\n      componentDidMount() {\n        fetch(url).then(res => res.json()).then(json => {\n          this.setState({ work: parseWork(json) });\n        });\n      }\n      render() {\n        if (this.state.work === null) return null;\n        return <Compnent work={this.state.work} {...this.props}/>;\n      }\n    }\n  }\n}\n\nexport { withFetchWork };\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/withWindowDimensions.jsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React, { Component } from "react";\n\n/**\n * React HOC: Get the size of the current window\n */\nfunction withWindowDimensions() {\n  return function(Compnent) {\n    return class extends Component {\n      state = this.getWindowDimensions();\n      resizeListener = () => {\n        this.setState(this.getWindowDimensions());\n      };\n      getWindowDimensions() {\n        return { width: window.innerWidth, height: window.innerHeight };\n      }\n      componentDidMount() {\n        window.addEventListener("resize", this.resizeListener, false);\n      }\n      componentWillUnmount() {\n        window. removeEventListener("resize", this. resizeListener, false);\n      }\n      render() {\n        const dimensions = { width: this.state.width, height: this.state.height };\n        return <Compnent windowDimensions={dimensions} {...this.props}/>;\n      }\n    }\n  }\n}\n\nexport { withWindowDimensions };\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/App.jsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React, { Component } from "react";\nimport { compose } from "@wordpress/compose";\nimport { createFiveProvider, FiveCanvas } from "@realsee/five/react";\nimport { withFetchWork } from "./withFetchWork";\nimport { withWindowDimensions } from "./withWindowDimensions";\n\n/** of work.json Data URL */\nconst workURL = "https://vrlab-public.ljcdn.com/release/static/image/release/five/work-sample/07bdc58f413bc5494f05c7cbb5cbdce4/work.json";\n\nconst FiveProvider = createFiveProvider();\n\nconst App = compose(\n  withFetchWork(workURL),\n  withWindowDimensions()\n)(class extends Component {\n  render() {\n    const { work, windowDimensions } = this. props;\n    return <FiveProvider initialWork={work}>\n      <FiveCanvas width={windowDimensions.width} height={windowDimensions.height}/>\n    </FiveProvider>;\n  }\n});\n\nexport { App };\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/index.jsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport ReactDOM from "react-dom";\nimport { App } from "./App";\n\nReactDOM.render(<App/>, document.querySelector("#app"));\n\nexport {};\n'))),(0,a.kt)(r.Z,{value:"TypeScript",label:"TypeScript",mdxType:"TabItem"},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/withFetchWork.tsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import React, { Component, ComponentClass } from "react";\nimport { Work, parseWork } from "@realsee/five";\n\n/**\n * React HOC get work\n * @param url work. Son address\n */\nfunction withFetchWork<P extends Record<string, any>>(url: string) {\n  return function(Compnent: ComponentClass<P & { work: Work }>): ComponentClass<P> {\n    return class extends Component<P, {work: Work | null}> {\n      state = { work: null };\n      componentDidMount() {\n        fetch(url).then(res => res.json()).then(json => {\n          this.setState({ work: parseWork(json) });\n        });\n      }\n      render() {\n        if (this.state.work === null) return null;\n        return <Compnent work={this.state.work} {...this.props}/>;\n      }\n    }\n  }\n}\n\nexport { withFetchWork };\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/withWindowDimensions.tsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import React, { Component, ComponentClass } from "react";\n\n/**\n * React HOC: Get the current window size\n */\nfunction withWindowDimensions<P extends Record<string, any>>() {\n  return function(Compnent: ComponentClass<P & { windowDimensions: { width: number, height: number} }>): ComponentClass<P> {\n    return class extends Component<P, {width: number, height: number}> {\n      state = this.getWindowDimensions();\n      resizeListener = () => {\n        this.setState(this.getWindowDimensions());\n      };\n      getWindowDimensions() {\n        return { width: window.innerWidth, height: window.innerHeight };\n      }\n      componentDidMount() {\n        window.addEventListener("resize", this.resizeListener, false);\n      }\n      componentWillUnmount() {\n        window.removeEventListener("resize", this.resizeListener, false);\n      }\n      render() {\n        const dimensions = { width: this.state.width, height: this.state.height };\n        return <Compnent windowDimensions={dimensions} {...this.props}/>;\n      }\n    }\n  }\n}\n\nexport { withWindowDimensions };\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/App.tsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import React, { Component } from "react";\nimport { Work } from "@realsee/five";\nimport { createFiveProvider, FiveCanvas } from "@realsee/five/react";\nimport { compose } from "@wordpress/compose";\nimport { withFetchWork } from "./withFetchWork";\nimport { withWindowDimensions } from "./withWindowDimensions";\n\n/** Data URL of work.json */\nconst workURL = "https://vrlab-public.ljcdn.com/release/static/image/release/five/work-sample/07bdc58f413bc5494f05c7cbb5cbdce4/work.json";\n\nconst FiveProvider = createFiveProvider();\n\nconst App = compose(\n  withFetchWork(workURL),\n  withWindowDimensions()\n)(class extends Component<{work: Work, windowDimensions: { width: number, height: number }}> {\n  render() {\n    const { work, windowDimensions } = this.props;\n    return <FiveProvider initialWork={work}>\n      <FiveCanvas width={windowDimensions.width} height={windowDimensions.height}/>\n    </FiveProvider>;\n  }\n});\n\n\nexport { App };\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"src/1.displaying-work/index.tsx")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\nimport ReactDOM from "react-dom";\nimport { App } from "./App";\n\nReactDOM.render(<App/>, document.querySelector("#app"));\n\nexport {};\n')))),(0,a.kt)("p",null,"Start service ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run dev"),' and jump to the current page "http://localhost:3000/src/1.displaying-work/index.html".'),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Please see your console. The port number will change due to your configuration and current port occupancy, please check the console output. If you use another development build tool, please start the service as required by your own development build tool.")),(0,a.kt)("h2",{id:"what-is-work"},"What is Work"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Then we pause the hand of writing the code. We come to understand some of the concepts and to rest assured that it is simple.")),(0,a.kt)("h3",{id:"work-introduction"},(0,a.kt)("strong",{parentName:"h3"},"Work Introduction")),(0,a.kt)("p",null,"We call a",(0,a.kt)("strong",{parentName:"p"},"three-dimensional space"),"a ",(0,a.kt)("strong",{parentName:"p"},"Work"),". So a Work is described through a structure of ",(0,a.kt)("strong",{parentName:"p"},"json")," known as ",(0,a.kt)("strong",{parentName:"p"},"work.json"),". ",(0,a.kt)("strong",{parentName:"p"},"Work")," You can access it via",(0,a.kt)("a",{parentName:"p",href:"https://open-platform.realsee.com/developer/open/api/#/paths/open-v1-entity-vr/get"},"like the Open Platform Interface"),". It can also be used as static as this example."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Five")," provides a method for ",(0,a.kt)("inlineCode",{parentName:"p"},"parseWork")," for parsing ",(0,a.kt)("strong",{parentName:"p"},"work.json"),", and then get ",(0,a.kt)("a",{parentName:"p",href:"https://unpkg.com/@realsee/five/docs/modules/five.html#Work"},(0,a.kt)("strong",{parentName:"a"},"work"))," objects. Work ",(0,a.kt)("a",{parentName:"p",href:"https://unpkg.com/@realsee/five/docs/modules/five.html#Work"},(0,a.kt)("strong",{parentName:"a"},"work"))," objects pass ",(0,a.kt)("inlineCode",{parentName:"p"},"FiveProvider")," initialize scenes in ",(0,a.kt)("inlineCode",{parentName:"p"},"initialize work")," attributes.You did the same in the previous chapter."),(0,a.kt)("h3",{id:"use-restrictions-on-work"},"Use restrictions on work"),(0,a.kt)("p",null,"You need to configure your ",(0,a.kt)("strong",{parentName:"p"},"security domain name")," and ",(0,a.kt)("strong",{parentName:"p"},"available time"),"of work data in",(0,a.kt)("a",{parentName:"p",href:"https://developers.realsee.com/docs/#/"},"Realsee Developer Center"),". Use Five SDK to verify this in the generation environment to protect developers and see data security."),(0,a.kt)("p",null,"The above restrictions will not be verified in the following cases, which is convenient for development and testing\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Domain named localhost"),(0,a.kt)("li",{parentName:"ul"},"Domain named ip address, e.g. 127.0.0.1, 192.168.0.5, 172.30.2.0, 10.33.10.2, etc"),(0,a.kt)("li",{parentName:"ul"},"Access in non-HTTP settings, e.g. ",(0,a.kt)("strong",{parentName:"li"},"file://")," Protocol")),(0,a.kt)("h3",{id:"workjsondata-samples-and-data-description"},(0,a.kt)("strong",{parentName:"h3"},"work.json"),"data samples and data description"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"You do not need to understand the contents of ",(0,a.kt)("strong",{parentName:"p"},"work.json")," may also use Live SDK.\neven if you know more about it, it is not a bad thing.")),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Click to view work.json"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "_signature": "LLzk2WHDbRfzQ5R+v82uVQqAGWMPfvgQ05hTwxgWKGeXbTPKtoQ8eI6FmCxJjtVjQW+wuZmZfxpzXePv4MGrWidG/05i5RRSELlPLEFZN3qYPykJLEIYhg3Wtvr8XkOI8wdeMgV82CP4Hyi84k/W2g+S+HcFs5oXfbfbFXPL/Gs=",\n  "allow_hosts": [\n    "*"\n  ],\n  "base_url": "https://vrlab-public.ljcdn.com/release/auto3dhd/9380ce27b46cbc5ba8d47fcf0e4c9e4f/",\n  "certificate": "-----BEGIN CERTIFICATE-----\\nMIIEMzCCAhsCCQDYAS/7ATZRmTANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMC\\nQ04xEDAOBgNVBAgMB0JlaWppbmcxEDAOBgNVBAcMB0JlaWppbmcxFDASBgNVBAoM\\nC2xpYW5qaWEuY29tMRAwDgYDVQQLDAdSZWFsc2VlMREwDwYDVQQDDAhIYXJkd2Fy\\nZTElMCMGCSqGSIb3DQEJARYWbml1aGFpcWluZ0BsaWFuamlhLmNvbTAeFw0yMTA5\\nMTAwNTIwMDBaFw0zMTA5MDgwNTIwMDBaMIGmMQswCQYDVQQGEwJDTjEQMA4GA1UE\\nCAwHQmVpSmluZzEQMA4GA1UEBwwHQmVpSmluZzEQMA4GA1UECgwHUmVhbHNlZTEZ\\nMBcGA1UECwwQUmVhbHNlZUFwcEdldHdheTEgMB4GA1UEAwwXYXBwLWdhdGV3YXku\\ncmVhbHNlZS5jb20xJDAiBgkqhkiG9w0BCQEWFWRldmVsb3BlckByZWFsc2VlLmNv\\nbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAuv/y3Ezsy/wh3LCA8vomPbgI\\nSO9iO5kyR+oAetklD+epMU6J/ZbvTDEomZxuS5iyyKGBupzAh2ZFLIy7tsE71Vx1\\nIIvT7Kdyq66lMU4YzdrpKUcxv7oOQnO8DA1orKluNa4jkyXBywHKs/Q+20LVc+RD\\ngKXqFGJUdo8mAxEScs0CAwEAATANBgkqhkiG9w0BAQsFAAOCAgEAkMxsU4VLPd4J\\n0rElBNBIyqPtvnlTs6VkhIK0l4oM58wtDKc1uG9UPSX5j29NguZM6LOe0jCsU2Vg\\nEpUseMWQjx4o2yBg7MokQyjWc1zu6PppKhQ+RqHQy/biJ2zsIMpX3oMASXffvnW5\\nn4Bjyo1JdDJiLm1fLvLlVVxQoraJD+rtpqWDEYixGVREUo5OIL5Y5dVjkHG2r9RQ\\nQuu3yEiyr9gAW8yhz3YR6/sJ6boyGK8NC0v8Jih7NnCdT+9ML+3jn3P5F3TeXdSf\\nVeYIm5oWAOTe3AjjKP8ARMb2RYACjg80/AcowD/dvRRjbwQmyucUNug2pXJynXpD\\nNfx1IBmUmzSAT1Z5yNuY/f3VRBJvmIQ6Jpmef+g0/wUJpyS4SObguItyYlFPLqRH\\nK1oKqNX/uV0GWWEQl6Lml986TzlHxc4ljtHBhjzlKYIYYZLWWipk4JiB8hxJcTK+\\ncrgvclEQSxFlmAyoqxYFClrOOsPqZJdBhDTvoUWnnWuJLQt7DLHpyInp+S75Gg3o\\n0zgHpt9m26B3YbjQGYMQlYmhl2VLQa+Ey0W8UZQXLcTvoRT4p+8crqr6cNNsxCyZ\\nm08vBbEMIMvhBeLQvpM75oaMBmelegipFl2eelxVIHdGJWoyJSZQUdXN0uSidhZp\\nI7AIgzhqK1Ku/IXK0OSXJonn+/9X/VI=\\n-----END CERTIFICATE-----",\n  "create_time": "2020-07-29T15:18:06+08:00",\n  "expire_at": "2132653492169",\n  "initial": {\n    "flag_position": [\n      -1.8683282713225706,\n      -1.1184803014502747,\n      -2.536637882840082\n    ],\n    "fov": 95,\n    "heading": 0,\n    "latitude": 0,\n    "longitude": 5.58602282229265,\n    "pano": 4,\n    "pano_index": 4\n  },\n  "model": {\n    "file_url": "model/auto3d-syVb5hzy8ZL1gZut_VvGDo.at3d",\n    "material_base_url": "materials/",\n    "material_textures": [\n      "texture_0.jpg",\n      "texture_1.jpg",\n      "texture_2.jpg",\n      "texture_3.jpg",\n      "texture_4.jpg",\n      "texture_5.jpg",\n      "texture_6.jpg",\n      "texture_7.jpg",\n      "texture_8.jpg"\n    ],\n    "modify_time": "2020-07-29T15:37:17+08:00",\n    "type": 0\n  },\n  "observers": [\n    {\n      "accessible_nodes": [\n        1,\n        2,\n        3,\n        4,\n        6,\n        7,\n        8\n      ],\n      "floor_index": 0,\n      "index": 0,\n      "offset_point_count": 551,\n      "position": [\n        -2.9148900508880615,\n        0,\n        1.392490029335022\n      ],\n      "quaternion": {\n        "w": 0.44238951628615497,\n        "x": -0.0011834399273419546,\n        "y": -0.8968221073969266,\n        "z": -0.00045692663054024737\n      },\n      "standing_position": [\n        -2.9148900508880615,\n        -1.1193245547539874,\n        1.392490029335022\n      ],\n      "visible_nodes": [\n        1,\n        2,\n        3,\n        4,\n        6,\n        7,\n        8\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        2,\n        3,\n        4\n      ],\n      "floor_index": 0,\n      "index": 1,\n      "offset_point_count": 1382,\n      "position": [\n        -1.780460000038147,\n        -0.00217098998837173,\n        4.450079917907715\n      ],\n      "quaternion": {\n        "w": 0.46776604948048534,\n        "x": -0.0011699393533674196,\n        "y": -0.883851410579187,\n        "z": -0.000490464139922521\n      },\n      "standing_position": [\n        -1.780460000038147,\n        -1.1214462854241507,\n        4.450079917907715\n      ],\n      "visible_nodes": [\n        0,\n        2,\n        3,\n        4\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        1,\n        3,\n        4\n      ],\n      "floor_index": 0,\n      "index": 2,\n      "offset_point_count": 378,\n      "position": [\n        -1.3428200483322144,\n        -0.0028426700737327337,\n        6.358610153198242\n      ],\n      "quaternion": {\n        "w": 0.6069850728938949,\n        "x": -0.001073151580086956,\n        "y": -0.7947122170838032,\n        "z": -0.0006765059598702671\n      },\n      "standing_position": [\n        -1.3428200483322144,\n        -1.1225737228916606,\n        6.358610153198242\n      ],\n      "visible_nodes": [\n        0,\n        1,\n        3,\n        4\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        1,\n        2,\n        4,\n        6,\n        7,\n        8\n      ],\n      "floor_index": 0,\n      "index": 3,\n      "offset_point_count": 0,\n      "position": [\n        -2.554189920425415,\n        -0.005082080140709877,\n        6.343259811401367\n      ],\n      "quaternion": {\n        "w": -0.030997155509175898,\n        "x": -0.0033666821765646494,\n        "y": -0.9994984128781037,\n        "z": -0.005546881036692224\n      },\n      "standing_position": [\n        -2.554189920425415,\n        -1.1224907918710612,\n        6.343259811401367\n      ],\n      "visible_nodes": [\n        0,\n        1,\n        2,\n        4,\n        6,\n        7,\n        8\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        1,\n        2,\n        3,\n        5,\n        6,\n        7,\n        8,\n        9,\n        10,\n        11\n      ],\n      "floor_index": 0,\n      "index": 4,\n      "offset_point_count": 941,\n      "position": [\n        -2.91471004486084,\n        -0.0003035110130440444,\n        0.06049229949712753\n      ],\n      "quaternion": {\n        "w": 0.0513025987418296,\n        "x": -0.0012676475973127641,\n        "y": -0.9986823460816978,\n        "z": 0.00004879134915086605\n      },\n      "standing_position": [\n        -2.91471004486084,\n        -1.1184803014502747,\n        0.06049229949712753\n      ],\n      "visible_nodes": [\n        0,\n        1,\n        2,\n        3,\n        5,\n        6,\n        7,\n        8,\n        9,\n        10,\n        11\n      ]\n    },\n    {\n      "accessible_nodes": [\n        4,\n        6,\n        9,\n        10\n      ],\n      "floor_index": 0,\n      "index": 5,\n      "offset_point_count": 863,\n      "position": [\n        -1.0017000436782837,\n        -0.005517140030860901,\n        -1.6075899600982666\n      ],\n      "quaternion": {\n        "w": -0.0344319061946854,\n        "x": -0.001258810265919515,\n        "y": -0.9994062434209862,\n        "z": 0.0001571970577815824\n      },\n      "standing_position": [\n        -1.0017000436782837,\n        -1.1178040247150276,\n        -1.6075899600982666\n      ],\n      "visible_nodes": [\n        4,\n        6,\n        9,\n        10\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        3,\n        4,\n        5,\n        7,\n        8\n      ],\n      "floor_index": 0,\n      "index": 6,\n      "offset_point_count": 1322,\n      "position": [\n        -2.846139907836914,\n        -0.001211759983561933,\n        -3.169840097427368\n      ],\n      "quaternion": {\n        "w": 0.32066123052403445,\n        "x": -0.0012332355032137405,\n        "y": -0.9471930957831524,\n        "z": -0.00029739399948980815\n      },\n      "standing_position": [\n        -2.846139907836914,\n        -1.1164889512469,\n        -3.169840097427368\n      ],\n      "visible_nodes": [\n        0,\n        3,\n        4,\n        5,\n        7,\n        8\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        3,\n        4,\n        6,\n        8\n      ],\n      "floor_index": 0,\n      "index": 7,\n      "offset_point_count": 2356,\n      "position": [\n        -3.0448501110076904,\n        -0.0010134399635717273,\n        -4.505109786987305\n      ],\n      "quaternion": {\n        "w": 0.49087982982843503,\n        "x": -0.001156616652291604,\n        "y": -0.8712263733357108,\n        "z": -0.0005211039435373182\n      },\n      "standing_position": [\n        -3.0448501110076904,\n        -1.11562920091362,\n        -4.505109786987305\n      ],\n      "visible_nodes": [\n        0,\n        3,\n        4,\n        6,\n        8\n      ]\n    },\n    {\n      "accessible_nodes": [\n        0,\n        3,\n        4,\n        6,\n        7\n      ],\n      "floor_index": 0,\n      "index": 8,\n      "offset_point_count": 234,\n      "position": [\n        -2.9152801036834717,\n        -0.01438829954713583,\n        -6.370659828186035\n      ],\n      "quaternion": {\n        "w": -0.30469427695314993,\n        "x": 0.0033588028429806095,\n        "y": -0.952412964681632,\n        "z": -0.007724194714338225\n      },\n      "standing_position": [\n        -2.9152801036834717,\n        -1.1144715989725875,\n        -6.370659828186035\n      ],\n      "visible_nodes": [\n        0,\n        3,\n        4,\n        6,\n        7\n      ]\n    },\n    {\n      "accessible_nodes": [\n        4,\n        5,\n        10,\n        11,\n        12,\n        13\n      ],\n      "floor_index": 0,\n      "index": 9,\n      "offset_point_count": 4886,\n      "position": [\n        -4.0423102378845215,\n        0.003333129920065403,\n        -0.03953389823436737\n      ],\n      "quaternion": {\n        "w": -0.18957592794754674,\n        "x": 0.010895134657991246,\n        "y": -0.9818002618819436,\n        "z": -0.0032427031038127978\n      },\n      "standing_position": [\n        -4.0423102378845215,\n        -1.118231507556375,\n        -0.03953389823436737\n      ],\n      "visible_nodes": [\n        4,\n        5,\n        10,\n        11,\n        12,\n        13\n      ]\n    },\n    {\n      "accessible_nodes": [\n        4,\n        5,\n        9,\n        11\n      ],\n      "floor_index": 0,\n      "index": 10,\n      "offset_point_count": 1773,\n      "position": [\n        -4.850550174713135,\n        0.004613489843904972,\n        0.1713390052318573\n      ],\n      "quaternion": {\n        "w": 0.12768161943121548,\n        "x": -0.0012676586552423492,\n        "y": -0.9918143930048722,\n        "z": -0.00004849317962342722\n      },\n      "standing_position": [\n        -4.850550174713135,\n        -1.1182253683511887,\n        0.1713390052318573\n      ],\n      "visible_nodes": [\n        4,\n        5,\n        9,\n        11\n      ]\n    },\n    {\n      "accessible_nodes": [\n        4,\n        9,\n        10\n      ],\n      "floor_index": 0,\n      "index": 11,\n      "offset_point_count": 654,\n      "position": [\n        -5.53085994720459,\n        -0.013371099717915058,\n        -0.143778994679451\n      ],\n      "quaternion": {\n        "w": -0.0030183054753861976,\n        "x": -0.00047414000140664293,\n        "y": -0.9999897553992034,\n        "z": -0.0033406236879980804\n      },\n      "standing_position": [\n        -5.53085994720459,\n        -1.1179010210789888,\n        -0.143778994679451\n      ],\n      "visible_nodes": [\n        4,\n        9,\n        10\n      ]\n    },\n    {\n      "accessible_nodes": [\n        9,\n        13\n      ],\n      "floor_index": 0,\n      "index": 12,\n      "offset_point_count": 1237,\n      "position": [\n        -4.178860187530518,\n        -0.013643399812281132,\n        1.3469799757003784\n      ],\n      "quaternion": {\n        "w": 0.06683888675991313,\n        "x": -0.0047767000805582485,\n        "y": -0.9977055393311836,\n        "z": -0.00966420424898995\n      },\n      "standing_position": [\n        -4.178860187530518,\n        -1.1190794461899993,\n        1.3469799757003784\n      ],\n      "visible_nodes": [\n        9,\n        13\n      ]\n    },\n    {\n      "accessible_nodes": [\n        9,\n        12\n      ],\n      "floor_index": 0,\n      "index": 13,\n      "offset_point_count": 466,\n      "position": [\n        -4.963950157165527,\n        -0.005961719900369644,\n        3.710700035095215\n      ],\n      "quaternion": {\n        "w": -0.19462188396064967,\n        "x": 0.004454742146828046,\n        "y": -0.9807853643462634,\n        "z": -0.012749200565824454\n      },\n      "standing_position": [\n        -4.963950157165527,\n        -1.12043610464341,\n        3.710700035095215\n      ],\n      "visible_nodes": [\n        9,\n        12\n      ]\n    }\n  ],\n  "panorama": {\n    "count": 14,\n    "list": [\n      {\n        "back": "images/cube_2048/0/9bf403506f2bc22eea0a81cdb09a8e22/0_b.jpg",\n        "down": "images/cube_2048/0/9bf403506f2bc22eea0a81cdb09a8e22/0_d.jpg",\n        "front": "images/cube_2048/0/9bf403506f2bc22eea0a81cdb09a8e22/0_f.jpg",\n        "index": 0,\n        "left": "images/cube_2048/0/9bf403506f2bc22eea0a81cdb09a8e22/0_l.jpg",\n        "right": "images/cube_2048/0/9bf403506f2bc22eea0a81cdb09a8e22/0_r.jpg",\n        "up": "images/cube_2048/0/9bf403506f2bc22eea0a81cdb09a8e22/0_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/1/cb8db51bc30afdd40cf6e4f3f7341c40/1_b.jpg",\n        "down": "images/cube_2048/1/cb8db51bc30afdd40cf6e4f3f7341c40/1_d.jpg",\n        "front": "images/cube_2048/1/cb8db51bc30afdd40cf6e4f3f7341c40/1_f.jpg",\n        "index": 1,\n        "left": "images/cube_2048/1/cb8db51bc30afdd40cf6e4f3f7341c40/1_l.jpg",\n        "right": "images/cube_2048/1/cb8db51bc30afdd40cf6e4f3f7341c40/1_r.jpg",\n        "up": "images/cube_2048/1/cb8db51bc30afdd40cf6e4f3f7341c40/1_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/2/67cdadb9caa0f844f56fee0aac7bb56d/2_b.jpg",\n        "down": "images/cube_2048/2/67cdadb9caa0f844f56fee0aac7bb56d/2_d.jpg",\n        "front": "images/cube_2048/2/67cdadb9caa0f844f56fee0aac7bb56d/2_f.jpg",\n        "index": 2,\n        "left": "images/cube_2048/2/67cdadb9caa0f844f56fee0aac7bb56d/2_l.jpg",\n        "right": "images/cube_2048/2/67cdadb9caa0f844f56fee0aac7bb56d/2_r.jpg",\n        "up": "images/cube_2048/2/67cdadb9caa0f844f56fee0aac7bb56d/2_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/3/791c38edaf6bbcc16e19682543745e9b/3_b.jpg",\n        "down": "images/cube_2048/3/791c38edaf6bbcc16e19682543745e9b/3_d.jpg",\n        "front": "images/cube_2048/3/791c38edaf6bbcc16e19682543745e9b/3_f.jpg",\n        "index": 3,\n        "left": "images/cube_2048/3/791c38edaf6bbcc16e19682543745e9b/3_l.jpg",\n        "right": "images/cube_2048/3/791c38edaf6bbcc16e19682543745e9b/3_r.jpg",\n        "up": "images/cube_2048/3/791c38edaf6bbcc16e19682543745e9b/3_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/4/ee318d536c51ef3de38c4aa059d65ef0/4_b.jpg",\n        "down": "images/cube_2048/4/ee318d536c51ef3de38c4aa059d65ef0/4_d.jpg",\n        "front": "images/cube_2048/4/ee318d536c51ef3de38c4aa059d65ef0/4_f.jpg",\n        "index": 4,\n        "left": "images/cube_2048/4/ee318d536c51ef3de38c4aa059d65ef0/4_l.jpg",\n        "right": "images/cube_2048/4/ee318d536c51ef3de38c4aa059d65ef0/4_r.jpg",\n        "up": "images/cube_2048/4/ee318d536c51ef3de38c4aa059d65ef0/4_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/5/b19d98dc23ec04d86df755dd1a15fdb3/5_b.jpg",\n        "down": "images/cube_2048/5/b19d98dc23ec04d86df755dd1a15fdb3/5_d.jpg",\n        "front": "images/cube_2048/5/b19d98dc23ec04d86df755dd1a15fdb3/5_f.jpg",\n        "index": 5,\n        "left": "images/cube_2048/5/b19d98dc23ec04d86df755dd1a15fdb3/5_l.jpg",\n        "right": "images/cube_2048/5/b19d98dc23ec04d86df755dd1a15fdb3/5_r.jpg",\n        "up": "images/cube_2048/5/b19d98dc23ec04d86df755dd1a15fdb3/5_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/6/b8f425e5f8943c38ad1386ab391b54bc/6_b.jpg",\n        "down": "images/cube_2048/6/b8f425e5f8943c38ad1386ab391b54bc/6_d.jpg",\n        "front": "images/cube_2048/6/b8f425e5f8943c38ad1386ab391b54bc/6_f.jpg",\n        "index": 6,\n        "left": "images/cube_2048/6/b8f425e5f8943c38ad1386ab391b54bc/6_l.jpg",\n        "right": "images/cube_2048/6/b8f425e5f8943c38ad1386ab391b54bc/6_r.jpg",\n        "up": "images/cube_2048/6/b8f425e5f8943c38ad1386ab391b54bc/6_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/7/a05b06a01171babb1aceb5aad8406ab8/7_b.jpg",\n        "down": "images/cube_2048/7/a05b06a01171babb1aceb5aad8406ab8/7_d.jpg",\n        "front": "images/cube_2048/7/a05b06a01171babb1aceb5aad8406ab8/7_f.jpg",\n        "index": 7,\n        "left": "images/cube_2048/7/a05b06a01171babb1aceb5aad8406ab8/7_l.jpg",\n        "right": "images/cube_2048/7/a05b06a01171babb1aceb5aad8406ab8/7_r.jpg",\n        "up": "images/cube_2048/7/a05b06a01171babb1aceb5aad8406ab8/7_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/8/2cd717b9c97f48ae79511855cc7e5138/8_b.jpg",\n        "down": "images/cube_2048/8/2cd717b9c97f48ae79511855cc7e5138/8_d.jpg",\n        "front": "images/cube_2048/8/2cd717b9c97f48ae79511855cc7e5138/8_f.jpg",\n        "index": 8,\n        "left": "images/cube_2048/8/2cd717b9c97f48ae79511855cc7e5138/8_l.jpg",\n        "right": "images/cube_2048/8/2cd717b9c97f48ae79511855cc7e5138/8_r.jpg",\n        "up": "images/cube_2048/8/2cd717b9c97f48ae79511855cc7e5138/8_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/9/0b634fe985df7011472b81c75babfd95/9_b.jpg",\n        "down": "images/cube_2048/9/0b634fe985df7011472b81c75babfd95/9_d.jpg",\n        "front": "images/cube_2048/9/0b634fe985df7011472b81c75babfd95/9_f.jpg",\n        "index": 9,\n        "left": "images/cube_2048/9/0b634fe985df7011472b81c75babfd95/9_l.jpg",\n        "right": "images/cube_2048/9/0b634fe985df7011472b81c75babfd95/9_r.jpg",\n        "up": "images/cube_2048/9/0b634fe985df7011472b81c75babfd95/9_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/10/40c1a6463b8c7462aadfca2a5f80f685/10_b.jpg",\n        "down": "images/cube_2048/10/40c1a6463b8c7462aadfca2a5f80f685/10_d.jpg",\n        "front": "images/cube_2048/10/40c1a6463b8c7462aadfca2a5f80f685/10_f.jpg",\n        "index": 10,\n        "left": "images/cube_2048/10/40c1a6463b8c7462aadfca2a5f80f685/10_l.jpg",\n        "right": "images/cube_2048/10/40c1a6463b8c7462aadfca2a5f80f685/10_r.jpg",\n        "up": "images/cube_2048/10/40c1a6463b8c7462aadfca2a5f80f685/10_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/11/9663b7885a119f2f06da06212986bc9b/11_b.jpg",\n        "down": "images/cube_2048/11/9663b7885a119f2f06da06212986bc9b/11_d.jpg",\n        "front": "images/cube_2048/11/9663b7885a119f2f06da06212986bc9b/11_f.jpg",\n        "index": 11,\n        "left": "images/cube_2048/11/9663b7885a119f2f06da06212986bc9b/11_l.jpg",\n        "right": "images/cube_2048/11/9663b7885a119f2f06da06212986bc9b/11_r.jpg",\n        "up": "images/cube_2048/11/9663b7885a119f2f06da06212986bc9b/11_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/12/01f84f2edd8642d0bf5e4874d01a28ac/12_b.jpg",\n        "down": "images/cube_2048/12/01f84f2edd8642d0bf5e4874d01a28ac/12_d.jpg",\n        "front": "images/cube_2048/12/01f84f2edd8642d0bf5e4874d01a28ac/12_f.jpg",\n        "index": 12,\n        "left": "images/cube_2048/12/01f84f2edd8642d0bf5e4874d01a28ac/12_l.jpg",\n        "right": "images/cube_2048/12/01f84f2edd8642d0bf5e4874d01a28ac/12_r.jpg",\n        "up": "images/cube_2048/12/01f84f2edd8642d0bf5e4874d01a28ac/12_u.jpg"\n      },\n      {\n        "back": "images/cube_2048/13/e9ce1249af9000a33d566c653560c3d6/13_b.jpg",\n        "down": "images/cube_2048/13/e9ce1249af9000a33d566c653560c3d6/13_d.jpg",\n        "front": "images/cube_2048/13/e9ce1249af9000a33d566c653560c3d6/13_f.jpg",\n        "index": 13,\n        "left": "images/cube_2048/13/e9ce1249af9000a33d566c653560c3d6/13_l.jpg",\n        "right": "images/cube_2048/13/e9ce1249af9000a33d566c653560c3d6/13_r.jpg",\n        "up": "images/cube_2048/13/e9ce1249af9000a33d566c653560c3d6/13_u.jpg"\n      }\n    ]\n  },\n  "picture_url": "https://vrlab-public.ljcdn.com/release/auto3dhd/9380ce27b46cbc5ba8d47fcf0e4c9e4f/screenshot/1596005211_4/pc0_3aoiit6zp.jpg",\n  "title_picture_url": "https://vrlab-public.ljcdn.com/release/auto3dhd/9380ce27b46cbc5ba8d47fcf0e4c9e4f/screenshot/1596005211_4/pc1_iQLf2N6a6_1.jpg",\n  "vr_code": "8054djM0oR6ky3Ey8e"\n}\n'))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"_signature")," / ",(0,a.kt)("strong",{parentName:"p"},"certificate"),": digital signature of work content")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"expire_at"),": work expiration time")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"allow_hosts"),": secure domain for work")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"initial"),": initialize data, a ",(0,a.kt)("strong",{parentName:"p"},"State")," data.Description of ",(0,a.kt)("strong",{parentName:"p"},"Work")," the position of the initial state loaded, also called the initial view of the VR"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"mode: models"),(0,a.kt)("li",{parentName:"ul"},"pano_index: initialize point"),(0,a.kt)("li",{parentName:"ul"},"longitude: Horizontal corner of camera"),(0,a.kt)("li",{parentName:"ul"},"latitude: alpha corner of the camera"),(0,a.kt)("li",{parentName:"ul"},"fov: Visible angle in the vertical direction of the camera"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"model"),": three-dimensional model"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"file_url: resource address of the three-dimensional model, file ",(0,a.kt)("strong",{parentName:"li"},".at3d")," for model format as deemed customized"),(0,a.kt)("li",{parentName:"ul"},"material_textures: a map resource address for 3D models"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"panorama"),": panorama color information"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"list:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"up / down / left / right / front / back: Global color information is stored and used in ",(0,a.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Cube_mapping"},"cubemap"),"."))))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"observers"),": Gathering point information"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"visible_nodes: List of visibility between collection points"),(0,a.kt)("li",{parentName:"ul"},"accessible_nodes: list of connections between collection points"),(0,a.kt)("li",{parentName:"ul"},"quaternion: rotation offset between collection points and model coordinates"),(0,a.kt)("li",{parentName:"ul"},"standing_position: Ground Coordinates of Gathering Points"),(0,a.kt)("li",{parentName:"ul"},"position: collection point coordinates"),(0,a.kt)("li",{parentName:"ul"},"floor_index: Gather Point Layer")))),(0,a.kt)("h3",{id:"work-object"},"Work Object"),(0,a.kt)("p",null,"Compared to the ",(0,a.kt)("strong",{parentName:"p"},"work.json"),"above, you may have used  ",(0,a.kt)("strong",{parentName:"p"},"Work Objects"),", he is the product of the ",(0,a.kt)("inlineCode",{parentName:"p"},"parseWork")," function. ",(0,a.kt)("strong",{parentName:"p"},"Work object")," compared to ",(0,a.kt)("strong",{parentName:"p"},"work.json")," will be highly serialized and you can view the details in ",(0,a.kt)("a",{parentName:"p",href:"https://unpkg.com/@realsee/five/docs/modules/five.html#Work"},(0,a.kt)("strong",{parentName:"a"},"Five Five")," API document"),"."),(0,a.kt)("h2",{id:"learn-about-fiveprovider-and-fivecanvas"},"Learn about FiveProvider and FiveCanvas"),(0,a.kt)("h3",{id:"origins-of-fiveprovider-and-fivecanvas"},"Origins of FiveProvider and FiveCanvas"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"FiveProvider")," / ",(0,a.kt)("inlineCode",{parentName:"p"},"FiveCanvas")," was developed through ",(0,a.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/context.html#contextprovider"},"React Context API"),". We can think ",(0,a.kt)("inlineCode",{parentName:"p"},"FiveProvider")," created a three-dimensional instance.",(0,a.kt)("inlineCode",{parentName:"p"},"FveCanvas")," is a canvas displayed in the DOM structure (cnavas).The sub-components in ",(0,a.kt)("inlineCode",{parentName:"p"},"FiveProvider")," can be obtained through ",(0,a.kt)("strong",{parentName:"p"},"context")," to the method provided on ",(0,a.kt)("inlineCode",{parentName:"p"},"FiveProvider")," to obtain the information of the three-dimensional space or control the three-dimensional space. We have also developed a series of ",(0,a.kt)("strong",{parentName:"p"},"hooks"),"for your convenience Do the above things."),(0,a.kt)("p",null,"Such a description may not be well understood, so we do something at hand."),(0,a.kt)("h3",{id:"add-mode-control-button"},"Add Mode Control Button"),(0,a.kt)("p",null,"Our work done this time is to add a model control button,",(0,a.kt)("strong",{parentName:"p"},"Five")," has been built. The default state is displayed as ",(0,a.kt)("strong",{parentName:"p"},"panorama"),". Like the final results in the previous chapter, we can also showcase the model ",(0,a.kt)("strong",{parentName:"p"},"mode")," to view the macro state of the three-dimensional space.To switch we will use the React hooks of ",(0,a.kt)("inlineCode",{parentName:"p"},"useCurrentState")," provided by the Five SDK.About ",(0,a.kt)("strong",{parentName:"p"},"Mode"),",",(0,a.kt)("strong",{parentName:"p"},"State"),", ",(0,a.kt)("strong",{parentName:"p"},"useCurrentState")," etc. Learn more in the next chapter, and what we want to do in this chapter is\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Write a React component"),(0,a.kt)("li",{parentName:"ul"},"Put the component as a subcomponent of FiveProvider"),(0,a.kt)("li",{parentName:"ul"},"Control the three-dimensional space with api provided by ",(0,a.kt)("strong",{parentName:"li"},"Five"))),(0,a.kt)("h4",{id:"install-ui-components"},"Install ui components"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"In order to reduce the complexity of the sample code, ",(0,a.kt)("a",{parentName:"p",href:"https://mui.com/"},(0,a.kt)("strong",{parentName:"a"},"material-UI"))," is used here as the UI component library, > you can also use ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/"},"Ant Design")," ",(0,a.kt)("a",{parentName:"p",href:"https://developer.microsoft.com/en-us/fluentui"},"Fluent UI")," and so on.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm install @mui/material @mui/icons-material @emotion/react @emotion/styled\n")),(0,a.kt)("h4",{id:"learn-about-withfive"},"Learn about ",(0,a.kt)("strong",{parentName:"h4"},"withFive")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'import { withFive } from "@realsee/react"')," is React HOC provided by Five SDK. You can inject three-dimensional properties/features and methods by ",(0,a.kt)("strong",{parentName:"p"},"withFive"),". After he creates the required dependency injection through ",(0,a.kt)("inlineCode",{parentName:"p"},'import { createFiveFeature } from "@realsee/react"')," 's ",(0,a.kt)("strong",{parentName:"p"},"createFiveFeature")," method, he can use it through ",(0,a.kt)("inlineCode",{parentName:"p"},"this.props.$five"),". This time we need to inject ",(0,a.kt)("inlineCode",{parentName:"p"},"currentState")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"setState")," to toggle patterns."),(0,a.kt)("p",null,"Next start writing code"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Add a ",(0,a.kt)("strong",{parentName:"li"},"ModeController")," file to write components."),(0,a.kt)("li",{parentName:"ol"},"First at the head from ",(0,a.kt)("inlineCode",{parentName:"li"},"@realsee/five")," Reference ",(0,a.kt)("a",{parentName:"li",href:"https://unpkg.com/@realsee/five/docs/classes/five.Five.html"},(0,a.kt)("inlineCode",{parentName:"a"},"Five"))," ",(0,a.kt)("a",{parentName:"li",href:"https://unpkg.com/@realsee/five/docs/modules/five.html#Mode"},(0,a.kt)("inlineCode",{parentName:"a"},"Mode"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://unpkg.com/@realsee/five/docs/modules/five.html#Mode"},(0,a.kt)("inlineCode",{parentName:"a"},"Mode"))," is model type declaration."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://unpkg.com/@realsee/five/docs/classes/five.Five.html#Mode"},(0,a.kt)("inlineCode",{parentName:"a"},"Five.Mode[string]"))," is a model enumeration."),(0,a.kt)("li",{parentName:"ol"},"First at head from ",(0,a.kt)("inlineCode",{parentName:"li"},"@realsee/five/react")," reference ",(0,a.kt)("a",{parentName:"li",href:"https://unpkg.com/@realsee/five/docs/modules/react.html#withFive"},(0,a.kt)("inlineCode",{parentName:"a"},"withFive"))," ",(0,a.kt)("a",{parentName:"li",href:"https://unpkg.com/@realsee/five/docs/modules/react.html#useFiveCurrentState"},(0,a.kt)("inlineCode",{parentName:"a"},"createFiveFeature"))),(0,a.kt)("li",{parentName:"ol"},"Write ",(0,a.kt)("inlineCode",{parentName:"li"},"ModeController")," component."),(0,a.kt)("li",{parentName:"ol"},"Add interfaces with ",(0,a.kt)("a",{parentName:"li",href:"https://mui.com/"},(0,a.kt)("strong",{parentName:"a"},"material-UI"))," components"),(0,a.kt)("li",{parentName:"ol"},"By ",(0,a.kt)("inlineCode",{parentName:"li"},"this.props.$five.currentState")," ",(0,a.kt)("inlineCode",{parentName:"li"},"this.props.$five.setState()")," Gets and sets the pattern of three-dimensional space (mode).")),(0,a.kt)(i.Z,{mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"JavaScript",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/1.displaying-work/ModeController.jsx"',title:'"src/1.displaying-work/ModeController.jsx"'},'import React, { Component } from "react";\nimport { Five } from "@realsee/five";\nimport { withFive, createFiveFeature } from "@realsee/five/react";\nimport { compose } from "@wordpress/compose";\nimport BottomNavigation from "@mui/material/BottomNavigation";\nimport BottomNavigationAction from "@mui/material/BottomNavigationAction";\nimport Paper from "@mui/material/Paper";\nimport DirectionsWalkIcon from "@mui/icons-material/DirectionsWalk";\nimport ViewInArIcon from "@mui/icons-material/ViewInAr";\n\nconst FEATURES = createFiveFeature("currentState", "setState");\n\n/**\n * React Component: modular control\n */\nconst ModeController = compose(\n  withFive(FEATURES)\n)(class extends Component {\n  render() {\n    return <Paper sx={{ position: "fixed", bottom: 0, left: 0, right: 0 }}>\n      <BottomNavigation\n        showLabels\n        value={this.props.$five.currentState.mode}\n        onChange={(_, newValue) => {\n          this.props.$five.setState({ mode: newValue });\n        }}\n      >\n        <BottomNavigationAction label="Panorama roaming" icon={<DirectionsWalkIcon/>} value={Five.Mode.Panorama}/>\n        <BottomNavigationAction label="Space overview" icon={<ViewInArIcon/>} value={Five.Mode.Floorplan}/>\n      </BottomNavigation>\n    </Paper>;\n  }\n})\n\nexport { ModeController };\n'))),(0,a.kt)(r.Z,{value:"TypeScript",label:"TypeScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/1.displaying-work/ModeController.tsx"',title:'"src/1.displaying-work/ModeController.tsx"'},'import React, { Component } from "react";\nimport { Five, Mode } from "@realsee/five";\nimport { withFive, createFiveFeature, PropTypeOfFiveFeatures } from "@realsee/five/react";\nimport { compose } from "@wordpress/compose";\nimport BottomNavigation from "@mui/material/BottomNavigation";\nimport BottomNavigationAction from "@mui/material/BottomNavigationAction";\nimport Paper from "@mui/material/Paper";\nimport DirectionsWalkIcon from "@mui/icons-material/DirectionsWalk";\nimport ViewInArIcon from "@mui/icons-material/ViewInAr";\n\nconst FEATURES = createFiveFeature("currentState", "setState");\ntype Props = PropTypeOfFiveFeatures<typeof FEATURES>;\n\n/**\n * React Component: Model Control\n */\nconst ModeController = compose(\n  withFive(FEATURES)\n)(class extends Component<Props> {\n  render() {\n    return <Paper sx={{ position: "fixed", bottom: 0, left: 0, right: 0 }}>\n      <BottomNavigation\n        showLabels\n        value={this.props.$five.currentState.mode}\n        onChange={(_, newValue: Mode) => {\n          this.props.$five.setState({ mode: newValue });\n        }}\n      >\n        <BottomNavigationAction label="Panorama roaming" icon={<DirectionsWalkIcon/>} value={Five.Mode.Panorama}/>\n        <BottomNavigationAction label="Space overview" icon={<ViewInArIcon/>} value={Five.Mode.Floorplan}/>\n      </BottomNavigation>\n    </Paper>;\n  }\n})\n\nexport { ModeController };\n')))),(0,a.kt)("h3",{id:"use-mode-control-button-component"},"Use Mode Control Button Component"),(0,a.kt)("p",null,"Then insert the ",(0,a.kt)("inlineCode",{parentName:"p"},"ModeController")," component into the ",(0,a.kt)("strong",{parentName:"p"},"App")," File ",(0,a.kt)("strong",{parentName:"p"},"FiveProvider"),"."),(0,a.kt)(i.Z,{mdxType:"Tabs"},(0,a.kt)(r.Z,{value:"JavaScript",label:"JavaScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/1.displaying-work/App.jsx"',title:'"src/1.displaying-work/App.jsx"'},'import React, { Component } from "react";\nimport { compose } from "@wordpress/compose";\nimport { createFiveProvider, FiveCanvas } from "@realsee/five/react";\nimport { withFetchWork } from "./withFetchWork";\nimport { withWindowDimensions } from "./withWindowDimensions";\n//highlight-start\nimport { ModeController } from "./ModeController";\n//highlight-end\n\n/** work .json data URL */\nconst workURL = "https://vrlab-public.ljcdn.com/release/static/image/release/five/work-sample/07bdc58f413bc5494f05c7cbb5cbdce4/work.json";\n\nconst FiveProvider = createFiveProvider ();\n\nconst App = compose(\n  withFetchWork(workURL),\n  withWindowDimensions()\n)(class extends Component {\n  render() {\n    const { work, windowDimensions } = this.props;\n    return <FiveProvider initialWork={work}>\n      <FiveCanvas width={windowDimensions.width} height={windowDimensions.height}/>\n      //highlight-start\n      <ModeController/>;\n      //highlight-end\n    </FiveProvider>;\n  }\n});\n\nexport { App };\n'))),(0,a.kt)(r.Z,{value:"TypeScript",label:"TypeScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/1.displaying-work/App.tsx"',title:'"src/1.displaying-work/App.tsx"'},'import React, { Component } from "react";\nimport { Work } from "@realsee/five";\nimport { createFiveProvider, FiveCanvas } from "@realsee/five/react";\nimport { compose } from "@wordpress/compose";\nimport { withFetchWork } from "./withFetchWork";\nimport { withWindowDimensions } from "./withWindowDimensions";\n//highlight-start\nimport { ModeController } from "./ModeController";\n//highlight-end\n\n/** Data URL of work.json */\nconst workURL = "https://vrlab-public.ljcdn.com/release/static/image/release/five/work-sample/07bdc58f413bc5494f05c7cbb5cbdce4/work.json";\n\nconst FiveProvider = createFiveProvider();\n\nconst App = compose(\n  withFetchWork(workURL),\n  withWindowDimensions()\n)(class extends Component<{work: Work, windowDimensions: { width: number, height: number }}> {\n  render() {\n    const { work, windowDimensions } = this.props;\n    return <FiveProvider initialWork={work}>\n      <FiveCanvas width={windowDimensions.width} height={windowDimensions.height}/>\n      //highlight-start\n      <ModeController/>\n      //highlight-end\n    </FiveProvider>;\n  }\n});\n\n\nexport { App };\n')))),(0,a.kt)("p",null,"Returning to your browser to view it, you will find control bars at the bottom of your page, ",(0,a.kt)("strong",{parentName:"p"},"Panoramic Roaming")," ",(0,a.kt)("strong",{parentName:"p"},"space overview")," allows three-dimensional space to change status."),(0,a.kt)("p",null,"Good \ud83e\udd73 !"),(0,a.kt)("h2",{id:"the-next-section-will-be-completed-by-you"},"The next section will be completed by you"),(0,a.kt)("admonition",{title:"Next section will be successful",type:"tip"},(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"Learn what is State"),(0,a.kt)("li",{parentName:"ul"},"How to change the directions/position of 3D space observations"),(0,a.kt)("li",{parentName:"ul"},"Learn about the code just now, like ",(0,a.kt)("inlineCode",{parentName:"li"},"currentState")," ",(0,a.kt)("inlineCode",{parentName:"li"},"setState")," and others how to work"),(0,a.kt)("li",{parentName:"ul"},"Auto-ring features via ",(0,a.kt)("strong",{parentName:"li"},"State")))))}b.isMDXComponent=!0}}]);